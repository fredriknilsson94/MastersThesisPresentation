\documentclass{beamer}

\usetheme{Boadilla}

\usefonttheme[onlymath]{serif}
\usepackage{mathpazo}

\usepackage{tikz}
\usepackage{amsmath}
\usepackage{bm}
\usepackage{xspace}
% Useful common abbreviations
\newcommand{\adas}{\textsc{adas}\xspace}
\newcommand{\roi}{\textsc{roi}\xspace}
\newcommand{\eg}{e.g.\xspace}

% Useful math
\renewcommand{\H}{\bm{H}}
\newcommand{\rotmat}{\bm{\mathcal{R}}}

% Set path to look for figures
\graphicspath{{fig/}}

% Define title page
\title[Vehicle Tracking with Heading Estimation]{Vehicle Tracking with Heading Estimation \\ using a Mono Camera System}
\subtitle{Master's Thesis at Veoneer}
\author{Fredrik Nilsson}
\institute[]{Performed at the Division of Automatic Control \\ Department of Electrical Engineering \\ Link\"oping University}
\date{\today}

\begin{document}

\begin{frame}
	\titlepage
\end{frame}

\AtBeginSection[]
{
  \begin{frame}{Presentation Outline}
    \tableofcontents[currentsection]
  \end{frame}
}

\begin{frame}{Presentation Outline}
	\tableofcontents
\end{frame}

% -----------------------------------
\section{Introduction}
% -----------------------------------

\begin{frame}{The Traffic Situation in Sweden}
	Important traffic statistic from 2017\footnote{Trafikverket, 2018}
	\begin{itemize}
		\item Average travelled distance per day with car: 30 km
		\item 4400 people were seriously injured
		\item 253 people were killed
	\end{itemize}
	\pause
	\begin{center}
		\large{According to Euro NCAP, 90 \% of all world-wide traffic \\ accidents are caused by the human factor!}
	\end{center}
\end{frame}

\begin{frame}{Euro NCAP}
	The European New Car Assessment Programme
	\begin{itemize}
		\item Performs vehicle tests and rate car models
		\item Vehicle tests of everyday scenarios, \eg
		\begin{itemize}
			\item Automatic emergency braking for vehicles and pedestrians
			\item Adult and child occupant protection
		\end{itemize}
		\item Puts requirements on the car manufacturers
		\item Higher requirements in the near future!
	\end{itemize}
\end{frame}

\begin{frame}{Advanced Driver Assistance Systems (\adas)}
	\begin{columns}
	\column{0.6\textwidth}
	An intelligent system to support and help the driver
	\begin{itemize}
		\item Sensors provide information, \eg
		\begin{itemize}
			\item Camera
			\item Radar
			\item LiDAR
		\end{itemize}
		\item Software to process the data and to make decisions
	\end{itemize}
	Veoneer (spin-off from Autoliv) is a leading supplier for \adas and autonomous driving
	\column{0.35\textwidth}
		\begin{figure}
			\includegraphics[height=2.25cm]{fig/ALV_Radar-Detection}
			\includegraphics[height=2.25cm]{fig/ALV_Mono-Vision-Sensor}
			\caption{Copyright Autoliv}
		\end{figure}
	\end{columns}
\end{frame}

\begin{frame}{Mono compared to Stereo Vision}
	\begin{columns}
		\column{0.5\textwidth}
		Mono vision
		\begin{itemize}
			\item[$+$] Object detection
			\item[$+$] Less expansive
			\item[$-$] Lacking depth information
			\item[$-$] Increased algorithm complexity
		\end{itemize}
		\column{0.4\textwidth}
		\begin{center}
			\includegraphics[width=3cm]{fig/ALV_Mono-Vision-Sensor}
		\end{center}
	\end{columns}
	\vspace{1em}
	\begin{columns}
		\column{0.5\textwidth}
		Stereo vision
		\begin{itemize}
			\item[$+$] Object detection
			\item[$+$] Depth information
			\item[$-$] More expensive
		\end{itemize}
		\column{0.4\textwidth}
		\begin{center}
			\includegraphics[width=2.25cm]{fig/ALV_Mono-Vision-Sensor}
			\hfill
			\includegraphics[width=2.25cm]{fig/ALV_Mono-Vision-Sensor}
		\end{center}
	\end{columns}
\end{frame}

\begin{frame}{Objective of the Master's Thesis}
	Since depth information is available in the stereo camera, orientation and angular rate are easy to estimate.
	How can we do that in a mono camera system?
	\pause
	\begin{block}{Objective}
		\begin{itemize}
			\item Can the heading (orientation and angular rate) of a vehicle be estimated using a mono camera system?
			\item Which kind of algorithms and models are suitable for solving the problem?
			\item How does a mono camera system performs compared with a stereo camera system?
		\end{itemize}
	\end{block}
\end{frame}

\begin{frame}{Limitations}
	\begin{itemize}
		\item The algorithm is not required to work in real-time
		\item Perfect knowledge about the ego car's ego motion
		\item Evaluated only on cars
		\item The size of the cars are known
	\end{itemize}
\end{frame}

% ------------------------------
\section{Theory and Methodology}
% ------------------------------

\subsection{Target Tracking}

\begin{frame}{Target Tracking}
	The task of tracking targets:
	\begin{itemize}
		\item Objects of interest
		\item Sensor measurements
		\item Weight measurements with uncertainties
		\item Predict how the objects moves
	\end{itemize}
	Used in for example:
	\begin{itemize}
		\item Radar-based air surveillance
		\item Military missile guidance
		\item \adas
	\end{itemize}
\end{frame}

\begin{frame}{Target Tracking Flow}
	\begin{figure}
	\centering
	\begin{tikzpicture}
		\tikzstyle{elem} = [rectangle, minimum width = 3cm, minimum height=1cm, align=center, draw=black]

		\node (sensorData) [elem] {Sensor data and \\ measurement processing};
		\node (gatingAssociation) [elem, below of=sensorData, yshift=-1.25cm] {Gating and \\ measurement association};
		\node (trackMaintenance) [elem, below right of=gatingAssociation, yshift=-1.5cm, xshift=2cm] {Track maintenance};
		\node (filter) [elem, below left of=gatingAssociation,  yshift=-1.5cm, xshift=-2cm] {Filtering and \\ prediction};

		\draw [->,very thick] (sensorData) -- (gatingAssociation);
		\draw [->,very thick] (gatingAssociation) -- (trackMaintenance);
		\draw [->,very thick] (trackMaintenance) -- (filter);
		\draw [->,very thick] (filter) -- (gatingAssociation);
	\end{tikzpicture}
	\caption{A flow chart describing a tracking system.}
	\end{figure}
\end{frame}

\begin{frame}{Target Tracking in Mono Vision Systems}
	\begin{columns}[T]
	\column{0.45\textwidth}
	Vehicle detection:
	\begin{itemize}
		\item Appearance-based method
		\item Motion-based method
	\end{itemize}
	\column{0.45\textwidth}
	Vehicle tracking:
	\begin{itemize}
		\item Kalman filter variations
		\item Particle filter
	\end{itemize}
	\end{columns}
	\vfill
	\begin{figure}
		\centering
		\includegraphics[angle=-90,origin=c,trim={0 0 15cm 0},width=0.6\textwidth]{roi_example}
		\caption{The vehicle has been detected and marked by a box, referred to as the region of interest (\roi).}
	\end{figure}
\end{frame}

\subsection{Feature Points}

\begin{frame}{Feature Points}
	Interesting points in the image.
	\begin{itemize}
		\item Feature detection
		\item Feature description
		\item Feature matching
		\item Feature tracking
	\end{itemize}
	\vfill
	\begin{figure}
		\centering
		\includegraphics[width=0.6\textwidth]{harris_features}
		\caption{\label{fig:featurepointexample} Detected feature points marked as green crosses.}
	\end{figure}
\end{frame}

\subsection{Projective Transformation}

\begin{frame}{Projective Transformation}
	Mapping between different views of the same planar surface,
	\begin{equation*}
		\bm{x}^\prime \sim \H \bm{x},
	\end{equation*}
	where $\H$ is a nonsingular $3 \times 3$ matrix.
	\vspace{1em}
	The \textit{homography} $\H$ can be decomposed into
	\begin{equation*}
		\H = \rotmat + \bm{t} \bm{n}^T.
	\end{equation*}
\end{frame}

\begin{frame}{Homography for Vehicle Angular Rate}
	\begin{itemize}
		\item Track feature points inside the \roi
		\item Find the homography between consecutive frames
		\item Decompose and extract the yaw rotation
		\item Calculate the angular rate
	\end{itemize}
	\begin{figure}
		\centering
		\includegraphics[width=0.8\textwidth]{feature_point_correspondence}
		\caption{Here, feature points have moved from the $1^\text{st}$ frame (red circles) to the $2^\text{nd}$ frame (green crosses).}
	\end{figure}
\end{frame}

% ---------------
\section{Results}
% ---------------

% -------------------
\section{Conclusions}
% -------------------

\end{document}